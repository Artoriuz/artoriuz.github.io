<!DOCTYPE html>
<html lang="en">

<head>
    <title>Imagemagick Resampling</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="./css/default.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Roboto+Slab:wght@100..900&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <hgroup>
            <h1>
                Imagemagick Resampling
            </h1>
            <h2>When doing it with mpv isn't enough...</h2>
        </hgroup>
    </header>
    <nav>
        <menu>
            <a href="../index.html">Home</a>
            <a href="https://github.com/Artoriuz">GitHub</a>
            <a href="https://www.linkedin.com/in/jvrchrisostomo/">LinkedIn</a>
        </menu>
    </nav>
    <section>
        <h3 id="introduction">Introduction</h3>
        <p>
            Some of you may be familiar with the blog post I made about mpv's scaling filters a while ago, but it was never really meant to be shared as much as it did. That page
            was originally the result of an assignment that I had during my undergrad, when I was formally studying digital image processing for the first time. Naturally, it was
            full of mistakes and the results weren't particularly scientific. I got a lot of feedback and the page ended up evolving in an organic way,
            but it still has some fundamental issues that can not be fixed without a major change in the methodology.
        </p>
        <p>
            From the top of my head I can enumerate the following problems:
            <ol>
                <li>The resampling tests were only done for 1 or 2 test images.</li>
                <li>I kept adding meme metrics since people requested them.</li>
                <li>I also kept adding meme shaders since people requested them.</li>
                <li>I created a bunch of different test cases but didn't really have the motivation to keep all of them up to date.</li>
                <li>I originally used Matlab to compute the metrics and Excel to plot the tables, which means updating the page was a major pain in the ass.</li>
                <li>I used catmull-rom in gamma light to downscale the test images.</li>
            </ol>
        </p>
        <p>
            So, to address these issues:
            <ol>
                <li>I chose to use the entire Manga109 dataset this time, which is probably the best widely-used dataset we have for line-art.</li>
                <li>I chose to stick to the standard distortion metrics, I'll think about adding perception metrics to the mix but only if they have decent Python implementations and actually compute at a decent speed.</li>
                <li>I chose to exclude all meme shaders. I'll stick to resampling filters this time. A following work with meme shaders isn't out of question but this is harder to automate.</li>
                <li>I chose to only test a few things, don't ask me to add your niche use cases because I won't do it.</li>
                <li>I chose to automate everything with a Python script so updating the numbers should be trivial (if this is needed at all).</li>
                <li>I chose to use the box filter in linear light to downsample this time. Since I'm downsampling to 0.5x this should be a simple average of 4 pixels, which is the best case scenario and doesn't introduce any blurriness or ringing.</li>
            </ol>
        </p>
        <p>
            With that out of the way, we can proceed with the real introduction.
        </p>
        <h3 id="resampling">Resampling</h3>
        <p>
            Resampling is the process of changing the number of samples of a discrete signal to obtain a new discrete representation of the underlying continuous signal. This definition comes from the idea of having
            a sensor of some kind producing an analog continuous-time voltage/current variance which is then periodically sampled and quantised into predefined amplitude levels so we can store it in bits/bytes.
        </p>
        <p>
            The easiest and most classic way of resampling to a higher sample rate is via linear interpolation, if you want to find a value between two points you can simply draw a
            line between them. Linear interpolation can be done in a cartesian plane, through both axis, creating what we call <a href="https://en.wikipedia.org/wiki/Bilinear_interpolation">"bilinear" interpolation</a>. Bilinear
            interpolation is the simplest interpolation algorithm, the easiest to compute and probably the most widespread one.
        </p>
        <p>
            But can something as simple as just drawing a line between 2 points give us good results? Sometimes it does, sometimes it doesn't. It really depends on the signal. Instead of taking 2 points
            and drawing a line, we could take more than 2 points and draw a higher-degree curve. The shape of the curve depends on the weights used in the calculation, and these weights depend on the chosen filter. The number
            of input samples in the calculation depends on the length/radius/support of the filter. If you want to understand how this is actually done, I suggest simply
            reading <a href="https://entropymine.com/imageworsener/resample/">this explanation</a>.
        </p>
        <p>
            In short, the most common way of resampling images is treating each row/column as an independent 1-D signal and simply going over all of them until you have resampled the entire image. This means you have to choose a dimension
            to resample first but this is pretty much inconsequential to the end result. The resampling algorithm itself is pretty simple, for each output sample you simply centralise the filter on top of it and
            see which input samples end up inside of the window after you compute their equivalent positions, then you multiply these inputs by their corresponding weights depending on their distance to the centre.
        </p>
        <p>
            There's a different method, usually called polar/cylindrical/elliptical resampling, that does the operation in the 2-D domain directly. The only difference here is that all samples that fit inside the 2-D filter will now
            be weighted simultaenously, which may drastically change how some filters behave since we're only calling the filter once per output pixel rather than twice as before.
        </p>
        <p>
            <img src="./images/imagemagick_resampling/orthogonal_vs_polar.png" alt="Ortho_polar_comparison" class="center" width="900" height="285">
        </p>
        <p>
            In this page I'll include results for both orthogonal and polar resampling. It's important to note that polar resampling implementations are generally slower and most filters weren't really designed to be used in this way
            (the most "famous" exception being polar lanczos, since we replace the sinc function with its 2-D "equivalent", the jinc/sombrero function).
        </p>
        <h3 id="upsampling_methodology">Upsampling Methodology</h3>
        <p>
            As stated before the entire Manga109 dataset will be used in this comparison. This dataset has manga covers that look like this:
        </p>
        <p>
            <img src="./images/imagemagick_resampling/manga109.png" alt="Manga109" class="center" width="960" height="340">
        </p>
        <p>
            The dataset is downscaled with:
        </p>
        <code>magick mogrify -colorspace rgb -filter box -resize 50% -colorspace srgb -path low_res inputs/*.png</code>
        <p>
            The dataset is then brought back up with the following command for orthogonal resampling:
        </p>
        <code>magick mogrify -colorspace RGB +sigmoidal-contrast 7.5 -filter {resampling_filter} -resize 200% -sigmoidal-contrast 7.5 -colorspace sRGB -path high_res low_res/*.png</code>
        <p>
            And the following command for polar resampling:
        </p>
        <code>magick mogrify -colorspace RGB +sigmoidal-contrast 7.5 -filter {resampling_filter} -distort Resize 200% -sigmoidal-contrast 7.5 -colorspace sRGB -path high_res low_res/*.png</code>
        <p>The <inline_code>{resampling_filter}</inline_code> argument is replaced by all available resampling filters:
        <code>
        ['Bartlett',
        'Blackman',
        'Bohman',
        'Box',
        'Catrom',
        'Cosine',
        'Cubic',
        'Gaussian',
        'Hamming',
        'Hann',
        'Hermite',
        'Jinc',
        'Kaiser',
        'Lagrange',
        'Lanczos',
        'Lanczos2',
        'Lanczos2Sharp',
        'LanczosRadius',
        'LanczosSharp',
        'Mitchell',
        'Parzen',
        'Point',
        'Quadratic',
        'Robidoux',
        'RobidouxSharp',
        'Sinc',
        'SincFast',
        'Spline',
        'CubicSpline',
        'Triangle',
        'Welch']
        </code>
        <p>
            For a much better explanation of these filters, <a href="https://imagemagick.org/Usage/filter/">please check this page from Imagemagick.</a>
        </p>
        </p>
        <p>
            The result is then evaluated with MAE, PSNR, SSIM and MS-SSIM. All calculations are done with all three RGB channels and in double-precision floating-point for accuracy. Metrics are normalised between [0, 1] and then
            averaged together with a normal arithmetic mean.
        </p>
        <p>
            Please note that some of those filters are just aliases to other filters or aliases to sinc/jinc with different windows.
        </p>
        <p>
            LanczosRadius is supposed to be a jinc-windowed jinc sharpened to have its third zero crossing
            at 3 instead of 3.2383154841662362.
        </p>
        <p>
            LanczosSharp and Lanczos2Sharp are both supposed to be sharper jinc-windowed jincs since the original filters ended up too soft when compared to their sinc-windowed sinc orthogonal
            equivalents.
        </p>
        <h3 id="upsampling_results">Upsampling Results</h3>
        <p>
            <table>
                <tr><td>Filter</td><td>MAE</td><td>PSNR</td><td>SSIM</td><td>MS-SSIM</td><td>MAE (N)</td><td>PSNR (N)</td><td>SSIM (N)</td><td>MS-SSIM (N)</td><td>Mean</td></tr>
                <tr><td>LanczosSharp</td><td>0.0163</td><td>30.3992</td><td>0.9391</td><td>0.9952</td><td>1.0000</td><td>0.9973</td><td>0.9716</td><td>0.9944</td><td>0.9908</td></tr>
                <tr><td>Polar_Catrom</td><td>0.0164</td><td>30.2800</td><td>0.9411</td><td>0.9953</td><td>0.9860</td><td>0.9704</td><td>1.0000</td><td>1.0000</td><td>0.9891</td></tr>
                <tr><td>Hamming</td><td>0.0163</td><td>30.4113</td><td>0.9384</td><td>0.9950</td><td>0.9932</td><td>1.0000</td><td>0.9621</td><td>0.9826</td><td>0.9845</td></tr>
                <tr><td>Cosine</td><td>0.0164</td><td>30.3786</td><td>0.9378</td><td>0.9950</td><td>0.9859</td><td>0.9926</td><td>0.9536</td><td>0.9796</td><td>0.9779</td></tr>
                <tr><td>Polar_Lagrange</td><td>0.0166</td><td>30.3581</td><td>0.9396</td><td>0.9949</td><td>0.9686</td><td>0.9880</td><td>0.9784</td><td>0.9766</td><td>0.9779</td></tr>
                <tr><td>Welch</td><td>0.0164</td><td>30.3915</td><td>0.9376</td><td>0.9949</td><td>0.9834</td><td>0.9955</td><td>0.9497</td><td>0.9781</td><td>0.9767</td></tr>
                <tr><td>Lanczos</td><td>0.0164</td><td>30.3221</td><td>0.9379</td><td>0.9949</td><td>0.9837</td><td>0.9799</td><td>0.9550</td><td>0.9791</td><td>0.9744</td></tr>
                <tr><td>LanczosRadius</td><td>0.0164</td><td>30.3221</td><td>0.9379</td><td>0.9949</td><td>0.9837</td><td>0.9799</td><td>0.9550</td><td>0.9791</td><td>0.9744</td></tr>
                <tr><td>Hann</td><td>0.0165</td><td>30.2987</td><td>0.9377</td><td>0.9948</td><td>0.9779</td><td>0.9746</td><td>0.9515</td><td>0.9716</td><td>0.9689</td></tr>
                <tr><td>Kaiser</td><td>0.0165</td><td>30.2733</td><td>0.9378</td><td>0.9948</td><td>0.9784</td><td>0.9688</td><td>0.9533</td><td>0.9731</td><td>0.9684</td></tr>
                <tr><td>Bartlett</td><td>0.0165</td><td>30.2282</td><td>0.9377</td><td>0.9949</td><td>0.9764</td><td>0.9586</td><td>0.9520</td><td>0.9752</td><td>0.9656</td></tr>
                <tr><td>Blackman</td><td>0.0166</td><td>30.1354</td><td>0.9372</td><td>0.9947</td><td>0.9636</td><td>0.9377</td><td>0.9440</td><td>0.9667</td><td>0.9530</td></tr>
                <tr><td>Bohman</td><td>0.0166</td><td>30.1085</td><td>0.9371</td><td>0.9947</td><td>0.9613</td><td>0.9316</td><td>0.9425</td><td>0.9667</td><td>0.9505</td></tr>
                <tr><td>Polar_LanczosRadius</td><td>0.0167</td><td>30.1668</td><td>0.9355</td><td>0.9946</td><td>0.9536</td><td>0.9448</td><td>0.9205</td><td>0.9570</td><td>0.9440</td></tr>
                <tr><td>Parzen</td><td>0.0168</td><td>29.9988</td><td>0.9364</td><td>0.9946</td><td>0.9473</td><td>0.9068</td><td>0.9329</td><td>0.9612</td><td>0.9371</td></tr>
                <tr><td>Polar_RobidouxSharp</td><td>0.0172</td><td>29.7304</td><td>0.9337</td><td>0.9946</td><td>0.9070</td><td>0.8462</td><td>0.8951</td><td>0.9598</td><td>0.9020</td></tr>
                <tr><td>Lanczos2Sharp</td><td>0.0172</td><td>29.6361</td><td>0.9344</td><td>0.9947</td><td>0.8993</td><td>0.8249</td><td>0.9048</td><td>0.9644</td><td>0.8984</td></tr>
                <tr><td>Polar_CubicSpline</td><td>0.0176</td><td>29.7738</td><td>0.9369</td><td>0.9933</td><td>0.8587</td><td>0.8560</td><td>0.9408</td><td>0.8811</td><td>0.8842</td></tr>
                <tr><td>Sinc</td><td>0.0179</td><td>30.2249</td><td>0.9297</td><td>0.9937</td><td>0.8327</td><td>0.9579</td><td>0.8377</td><td>0.9046</td><td>0.8832</td></tr>
                <tr><td>SincFast</td><td>0.0179</td><td>30.2249</td><td>0.9297</td><td>0.9937</td><td>0.8327</td><td>0.9579</td><td>0.8377</td><td>0.9046</td><td>0.8832</td></tr>
                <tr><td>Polar_LanczosSharp</td><td>0.0173</td><td>29.8697</td><td>0.9308</td><td>0.9936</td><td>0.8888</td><td>0.8777</td><td>0.8534</td><td>0.8982</td><td>0.8795</td></tr>
                <tr><td>CubicSpline</td><td>0.0175</td><td>29.6101</td><td>0.9318</td><td>0.9938</td><td>0.8765</td><td>0.8190</td><td>0.8676</td><td>0.9129</td><td>0.8690</td></tr>
                <tr><td>Lanczos2</td><td>0.0175</td><td>29.5422</td><td>0.9322</td><td>0.9940</td><td>0.8708</td><td>0.8037</td><td>0.8741</td><td>0.9248</td><td>0.8683</td></tr>
                <tr><td>Catrom</td><td>0.0175</td><td>29.4788</td><td>0.9320</td><td>0.9940</td><td>0.8687</td><td>0.7894</td><td>0.8705</td><td>0.9261</td><td>0.8637</td></tr>
                <tr><td>Polar_Cosine</td><td>0.0176</td><td>29.7521</td><td>0.9289</td><td>0.9932</td><td>0.8627</td><td>0.8511</td><td>0.8266</td><td>0.8749</td><td>0.8538</td></tr>
                <tr><td>Polar_Lanczos</td><td>0.0176</td><td>29.7521</td><td>0.9289</td><td>0.9932</td><td>0.8627</td><td>0.8511</td><td>0.8266</td><td>0.8749</td><td>0.8538</td></tr>
                <tr><td>Polar_Welch</td><td>0.0176</td><td>29.7521</td><td>0.9289</td><td>0.9932</td><td>0.8627</td><td>0.8511</td><td>0.8266</td><td>0.8749</td><td>0.8538</td></tr>
                <tr><td>Polar_Hann</td><td>0.0177</td><td>29.6535</td><td>0.9285</td><td>0.9931</td><td>0.8511</td><td>0.8288</td><td>0.8214</td><td>0.8713</td><td>0.8432</td></tr>
                <tr><td>Polar_Bartlett</td><td>0.0177</td><td>29.6043</td><td>0.9287</td><td>0.9931</td><td>0.8513</td><td>0.8177</td><td>0.8231</td><td>0.8712</td><td>0.8408</td></tr>
                <tr><td>Polar_Mitchell</td><td>0.0179</td><td>29.2988</td><td>0.9290</td><td>0.9935</td><td>0.8295</td><td>0.7487</td><td>0.8283</td><td>0.8956</td><td>0.8255</td></tr>
                <tr><td>Polar_Hamming</td><td>0.0179</td><td>29.5229</td><td>0.9275</td><td>0.9928</td><td>0.8322</td><td>0.7993</td><td>0.8062</td><td>0.8509</td><td>0.8222</td></tr>
                <tr><td>Polar_Kaiser</td><td>0.0180</td><td>29.4493</td><td>0.9272</td><td>0.9927</td><td>0.8248</td><td>0.7827</td><td>0.8022</td><td>0.8506</td><td>0.8151</td></tr>
                <tr><td>Polar_Lanczos2Sharp</td><td>0.0182</td><td>29.2163</td><td>0.9269</td><td>0.9929</td><td>0.8015</td><td>0.7301</td><td>0.7981</td><td>0.8571</td><td>0.7967</td></tr>
                <tr><td>Lagrange</td><td>0.0182</td><td>29.1906</td><td>0.9267</td><td>0.9926</td><td>0.7976</td><td>0.7243</td><td>0.7959</td><td>0.8413</td><td>0.7898</td></tr>
                <tr><td>Polar_Blackman</td><td>0.0184</td><td>29.1789</td><td>0.9251</td><td>0.9923</td><td>0.7852</td><td>0.7216</td><td>0.7728</td><td>0.8260</td><td>0.7764</td></tr>
                <tr><td>Polar_Robidoux</td><td>0.0184</td><td>29.0213</td><td>0.9258</td><td>0.9927</td><td>0.7766</td><td>0.6860</td><td>0.7818</td><td>0.8489</td><td>0.7733</td></tr>
                <tr><td>Polar_Bohman</td><td>0.0184</td><td>29.1470</td><td>0.9249</td><td>0.9923</td><td>0.7808</td><td>0.7144</td><td>0.7698</td><td>0.8252</td><td>0.7725</td></tr>
                <tr><td>Polar_Lanczos2</td><td>0.0187</td><td>28.9992</td><td>0.9232</td><td>0.9919</td><td>0.7511</td><td>0.6810</td><td>0.7450</td><td>0.8007</td><td>0.7445</td></tr>
                <tr><td>Polar_Parzen</td><td>0.0188</td><td>28.8898</td><td>0.9227</td><td>0.9918</td><td>0.7397</td><td>0.6563</td><td>0.7383</td><td>0.7960</td><td>0.7326</td></tr>
                <tr><td>RobidouxSharp</td><td>0.0193</td><td>28.5601</td><td>0.9204</td><td>0.9912</td><td>0.6857</td><td>0.5818</td><td>0.7054</td><td>0.7614</td><td>0.6836</td></tr>
                <tr><td>Polar_Hermite</td><td>0.0202</td><td>27.7627</td><td>0.9180</td><td>0.9933</td><td>0.5937</td><td>0.4017</td><td>0.6713</td><td>0.8806</td><td>0.6369</td></tr>
                <tr><td>Mitchell</td><td>0.0199</td><td>28.3003</td><td>0.9166</td><td>0.9903</td><td>0.6288</td><td>0.5232</td><td>0.6517</td><td>0.7060</td><td>0.6274</td></tr>
                <tr><td>Hermite</td><td>0.0202</td><td>27.8860</td><td>0.9170</td><td>0.9923</td><td>0.5953</td><td>0.4296</td><td>0.6571</td><td>0.8217</td><td>0.6259</td></tr>
                <tr><td>Robidoux</td><td>0.0202</td><td>28.1364</td><td>0.9141</td><td>0.9896</td><td>0.5916</td><td>0.4861</td><td>0.6161</td><td>0.6689</td><td>0.5907</td></tr>
                <tr><td>Polar_Triangle</td><td>0.0207</td><td>27.8375</td><td>0.9122</td><td>0.9900</td><td>0.5479</td><td>0.4186</td><td>0.5888</td><td>0.6903</td><td>0.5614</td></tr>
                <tr><td>Box</td><td>0.0220</td><td>26.5260</td><td>0.9105</td><td>0.9950</td><td>0.4101</td><td>0.1224</td><td>0.5649</td><td>0.9801</td><td>0.5194</td></tr>
                <tr><td>Point</td><td>0.0220</td><td>26.5260</td><td>0.9105</td><td>0.9950</td><td>0.4101</td><td>0.1224</td><td>0.5649</td><td>0.9801</td><td>0.5194</td></tr>
                <tr><td>Polar_Box</td><td>0.0220</td><td>26.5260</td><td>0.9105</td><td>0.9950</td><td>0.4101</td><td>0.1224</td><td>0.5649</td><td>0.9801</td><td>0.5194</td></tr>
                <tr><td>Polar_Point</td><td>0.0213</td><td>27.6369</td><td>0.9069</td><td>0.9880</td><td>0.4762</td><td>0.3733</td><td>0.5140</td><td>0.5715</td><td>0.4838</td></tr>
                <tr><td>Polar_Sinc</td><td>0.0213</td><td>27.6369</td><td>0.9069</td><td>0.9880</td><td>0.4762</td><td>0.3733</td><td>0.5140</td><td>0.5715</td><td>0.4838</td></tr>
                <tr><td>Polar_SincFast</td><td>0.0213</td><td>27.6369</td><td>0.9069</td><td>0.9880</td><td>0.4762</td><td>0.3733</td><td>0.5140</td><td>0.5715</td><td>0.4838</td></tr>
                <tr><td>Triangle</td><td>0.0213</td><td>27.6369</td><td>0.9069</td><td>0.9880</td><td>0.4762</td><td>0.3733</td><td>0.5140</td><td>0.5715</td><td>0.4838</td></tr>
                <tr><td>Jinc</td><td>0.0214</td><td>27.8115</td><td>0.9049</td><td>0.9868</td><td>0.4681</td><td>0.4127</td><td>0.4854</td><td>0.5026</td><td>0.4672</td></tr>
                <tr><td>Polar_Quadratic</td><td>0.0228</td><td>27.0915</td><td>0.8960</td><td>0.9850</td><td>0.3285</td><td>0.2501</td><td>0.3577</td><td>0.3992</td><td>0.3339</td></tr>
                <tr><td>Polar_Gaussian</td><td>0.0231</td><td>26.9436</td><td>0.8941</td><td>0.9849</td><td>0.2939</td><td>0.2167</td><td>0.3308</td><td>0.3926</td><td>0.3085</td></tr>
                <tr><td>Gaussian</td><td>0.0231</td><td>26.9424</td><td>0.8940</td><td>0.9849</td><td>0.2936</td><td>0.2164</td><td>0.3305</td><td>0.3923</td><td>0.3082</td></tr>
                <tr><td>Quadratic</td><td>0.0233</td><td>26.8872</td><td>0.8920</td><td>0.9840</td><td>0.2718</td><td>0.2040</td><td>0.3009</td><td>0.3367</td><td>0.2783</td></tr>
                <tr><td>Polar_Jinc</td><td>0.0247</td><td>26.9115</td><td>0.8953</td><td>0.9820</td><td>0.1285</td><td>0.2095</td><td>0.3489</td><td>0.2231</td><td>0.2275</td></tr>
                <tr><td>Polar_Cubic</td><td>0.0255</td><td>26.1276</td><td>0.8741</td><td>0.9792</td><td>0.0446</td><td>0.0324</td><td>0.0472</td><td>0.0553</td><td>0.0449</td></tr>
                <tr><td>Polar_Spline</td><td>0.0255</td><td>26.1276</td><td>0.8741</td><td>0.9792</td><td>0.0446</td><td>0.0324</td><td>0.0472</td><td>0.0553</td><td>0.0449</td></tr>
                <tr><td>Cubic</td><td>0.0260</td><td>25.9843</td><td>0.8708</td><td>0.9782</td><td>0.0000</td><td>0.0000</td><td>0.0000</td><td>0.0000</td><td>0.0000</td></tr>
                <tr><td>Spline</td><td>0.0260</td><td>25.9843</td><td>0.8708</td><td>0.9782</td><td>0.0000</td><td>0.0000</td><td>0.0000</td><td>0.0000</td><td>0.0000</td></tr>
                </table>
        </p>
        <h3 id="upsampling_commentary">Upsampling Commentary</h3>
        <p>
            We started this little adventure to provide a bit more robustness to the numbers compared to my previous comparison done using mpv, and there are a few surprises in the results. The first one is that
            orthogonal LanczosSharp ended up on top of the table, an option that shouldn't even be in the comparison. If you want to give it a try on mpv, you can use <inline_code>--scale=lanczos --scale-blur=0.9812505644269356</inline_code>.
        </p>
        <p>
            The second surprise is that Polar_Catrom is at the second place with the best scores for both SSIM and MS-SSIM. Polar_Catrom is an extremely sharp filter, albeit with too much aliasing and ringing.
            Since it only rings once (when it overshoots), it's trivial to remove all ringing if we just clip the output of each pixel to the limits set by the surrounding input pixels.
            <a href="https://github.com/Artoriuz/glsl-pixel-clipper/">I have actually written a shader for it</a>, but you can also just use libplacebo's native AR now.
            If you want to give the filter a try on mpv, you can use <inline_code>--scale=ewa_robidoux --scale-param1=0 --scale-param2=0.5</inline_code>.
        </p>
        <p>
            The third surprise is that there are some Lanczos variants on top of the baseline Lanczos: Hamming, Cosine and Welch. For the last two all you gotta do is set <inline_code>--scale=lanczos --scale-window=window</inline_code>,
            but for the first you also have to set <inline_code>--scale-radius=4</inline_code>.
        </p>
        <p>
            Finally, it's also a little bit funny to see Lanczos2 beating Catmull_Rom in the "orthogonal filters with radius = 2" category. And it's even funnier that Lanczos2Sharp beat them both, another filter that shouldn't even be here.
            To use Lanczos2 on mpv you can simply do <inline_code>--scale=lanczos --scale-radius=2</inline_code>, and for Lanczos2Sharp add <inline_code>--scale-blur=0.9549963639785485</inline_code>.
        </p>
        <p>
            You might have also noticed that Polar_LanczosRadius is on top of Polar_LanczosSharp. Polar_LanczosRadius is sharpened to have its third zero crossing exactly at 3,
            which corresponds to a blur factor of 0.9264075766146068 (3.0/3.2383154841662362). To try it on mpv you can use <inline_code>--scale=ewa_lanczos --scale-blur=0.9264075766146068</inline_code>.
            On <inline_code>--vo=gpu</inline_code> you also have to specify <inline_code>--scale-radius=3.2383154841662362</inline_code>.
        </p>
        <p>
            Overall it looks like the filters were more or less ranked from sharpest to softest. This makes perfect sense as the main problem with image upsampling is unintended blurriness. PSNR is calculated using the MSE so it's overly
            sensitive to outliers, which naturally end up being the sharp transitions. SSIM was also literally designed to give good scores to distorted images that have similarish structures, which also favours sharpness. MAE is a little more
            neutral than PSNR which is why we generally use it as our target when training distortion-based CNNs, so it should punish filters that are too sharp in detriment to ringing, aliasing and blocking. That's the main reason why most of those
            CNNs end up generating images that look like oil painting. MS-SSIM was added to neutralise stupidly minor differences as we wouldn't be able to see them anyway from normal viewing distances.
        </p>
        <p>
            As usual, the filters are ranked based on full-reference distortion metrics that may not always correlate with the human perception of quality, and your personal preference is entirely subjective.
        </p>
        <p>
            Please also keep in mind that only the named filters were "benchmarked", but you can make "custom" filters that score even higher using the expert controls.
        </p>
        <h3 id="downsampling_methodology">Downsampling Methodology</h3>
        <p>
            The problem with downsampling evaluation is that we do not have a "ground truth" image, making it impossible for us to use the standard full-reference quality metrics. However, in the previous section I already made the
            concession that, at a 0.5x scaling ratio, the box filter is as good as it gets without producing any artifacts.
        </p>
        <p>
            If we make the leap of faith that resampling filters will more or less keep their character regardless of scaling factor, we can use the output of box as the reference and compare other filters against it.
            So, in short, we want to find a filter that, at any scaling factor, will behave similarly to box at 0.5x.
            I'm calling this a leap of faith because this hypothesis most likely falls apart with extreme scaling factors, but as long as you keep it close to 0.5x it probably makes sense.
        </p>
        <p>
            With that said, now we can proceed to the actual methodology. The reference is created with:
        </p>
        <code>magick mogrify -colorspace RGB -filter box -resize 50% -colorspace sRGB -path box_ref inputs/*.png</code>
        <p>
            The dataset is then brought downscaled with the following command for orthogonal resampling:
        </p>
        <code>magick mogrify -colorspace RGB -filter {resampling_filter} -resize 50% -colorspace sRGB -path low_res box_ref/*.png</code>
        <p>
            And the following command for polar resampling:
        </p>
        <code>magick mogrify -colorspace RGB -filter {resampling_filter} -distort Resize 50% -colorspace sRGB -path low_res box_ref/*.png</code>
        <p>
            The <inline_code>{resampling_filter}</inline_code> argument is replaced by all available resampling filters. Everything else about the process stays the same, so we can proceed to the results.
        </p>
        <h3 id="downsampling_results">Downsampling Results</h3>
        <p>
            <table>
                <tbody>
                  <tr>
                    <td>Filter</td>
                    <td>MAE</td>
                    <td>PSNR</td>
                    <td>SSIM</td>
                    <td>MS-SSIM</td>
                    <td></td>
                    <td>MAE (N)</td>
                    <td>PSNR (N)</td>
                    <td>SSIM (N)</td>
                    <td>MS-SSIM (N)</td>
                    <td></td>
                    <td>Mean</td>
                  </tr>
                  <tr>
                    <td>Lanczos2Sharp</td>
                    <td>0.0052</td>
                    <td>38.1382</td>
                    <td>0.9941</td>
                    <td>0.9993</td>
                    <td></td>
                    <td>1.0000</td>
                    <td>1.0000</td>
                    <td>1.0000</td>
                    <td>1.0000</td>
                    <td></td>
                    <td>1.0000</td>
                  </tr>
                  <tr>
                    <td>Polar_Hermite</td>
                    <td>0.0058</td>
                    <td>37.9258</td>
                    <td>0.9937</td>
                    <td>0.9992</td>
                    <td></td>
                    <td>0.9632</td>
                    <td>0.9819</td>
                    <td>0.9936</td>
                    <td>0.9917</td>
                    <td></td>
                    <td>0.9826</td>
                  </tr>
                  <tr>
                    <td>Lanczos2</td>
                    <td>0.0062</td>
                    <td>37.1522</td>
                    <td>0.9924</td>
                    <td>0.9992</td>
                    <td></td>
                    <td>0.9443</td>
                    <td>0.9162</td>
                    <td>0.9718</td>
                    <td>0.9844</td>
                    <td></td>
                    <td>0.9542</td>
                  </tr>
                  <tr>
                    <td>Catrom</td>
                    <td>0.0062</td>
                    <td>37.1418</td>
                    <td>0.9923</td>
                    <td>0.9992</td>
                    <td></td>
                    <td>0.9403</td>
                    <td>0.9153</td>
                    <td>0.9704</td>
                    <td>0.9859</td>
                    <td></td>
                    <td>0.9530</td>
                  </tr>
                  <tr>
                    <td>Polar_Mitchell</td>
                    <td>0.0067</td>
                    <td>36.8261</td>
                    <td>0.9913</td>
                    <td>0.9992</td>
                    <td></td>
                    <td>0.9109</td>
                    <td>0.8885</td>
                    <td>0.9544</td>
                    <td>0.9830</td>
                    <td></td>
                    <td>0.9342</td>
                  </tr>
                  <tr>
                    <td>Polar_Robidoux</td>
                    <td>0.0071</td>
                    <td>36.7730</td>
                    <td>0.9905</td>
                    <td>0.9992</td>
                    <td></td>
                    <td>0.8899</td>
                    <td>0.8839</td>
                    <td>0.9428</td>
                    <td>0.9815</td>
                    <td></td>
                    <td>0.9246</td>
                  </tr>
                  <tr>
                    <td>Polar_RobidouxSharp</td>
                    <td>0.0068</td>
                    <td>35.8553</td>
                    <td>0.9911</td>
                    <td>0.9989</td>
                    <td></td>
                    <td>0.9084</td>
                    <td>0.8059</td>
                    <td>0.9514</td>
                    <td>0.9572</td>
                    <td></td>
                    <td>0.9057</td>
                  </tr>
                  <tr>
                    <td>Hermite</td>
                    <td>0.0072</td>
                    <td>36.1529</td>
                    <td>0.9909</td>
                    <td>0.9989</td>
                    <td></td>
                    <td>0.8826</td>
                    <td>0.8312</td>
                    <td>0.9487</td>
                    <td>0.9525</td>
                    <td></td>
                    <td>0.9037</td>
                  </tr>
                  <tr>
                    <td>Polar_Lanczos2Sharp</td>
                    <td>0.0075</td>
                    <td>36.0829</td>
                    <td>0.9895</td>
                    <td>0.9990</td>
                    <td></td>
                    <td>0.8669</td>
                    <td>0.8253</td>
                    <td>0.9267</td>
                    <td>0.9674</td>
                    <td></td>
                    <td>0.8966</td>
                  </tr>
                  <tr>
                    <td>Parzen</td>
                    <td>0.0070</td>
                    <td>35.6504</td>
                    <td>0.9901</td>
                    <td>0.9989</td>
                    <td></td>
                    <td>0.8945</td>
                    <td>0.7885</td>
                    <td>0.9355</td>
                    <td>0.9541</td>
                    <td></td>
                    <td>0.8931</td>
                  </tr>
                  <tr>
                    <td>CubicSpline</td>
                    <td>0.0075</td>
                    <td>35.5080</td>
                    <td>0.9895</td>
                    <td>0.9989</td>
                    <td></td>
                    <td>0.8693</td>
                    <td>0.7764</td>
                    <td>0.9271</td>
                    <td>0.9495</td>
                    <td></td>
                    <td>0.8806</td>
                  </tr>
                  <tr>
                    <td>RobidouxSharp</td>
                    <td>0.0081</td>
                    <td>35.7346</td>
                    <td>0.9883</td>
                    <td>0.9989</td>
                    <td></td>
                    <td>0.8346</td>
                    <td>0.7957</td>
                    <td>0.9074</td>
                    <td>0.9515</td>
                    <td></td>
                    <td>0.8723</td>
                  </tr>
                  <tr>
                    <td>Lagrange</td>
                    <td>0.0079</td>
                    <td>35.5718</td>
                    <td>0.9885</td>
                    <td>0.9989</td>
                    <td></td>
                    <td>0.8424</td>
                    <td>0.7818</td>
                    <td>0.9097</td>
                    <td>0.9545</td>
                    <td></td>
                    <td>0.8721</td>
                  </tr>
                  <tr>
                    <td>Bohman</td>
                    <td>0.0075</td>
                    <td>35.1306</td>
                    <td>0.9889</td>
                    <td>0.9988</td>
                    <td></td>
                    <td>0.8693</td>
                    <td>0.7443</td>
                    <td>0.9169</td>
                    <td>0.9404</td>
                    <td></td>
                    <td>0.8677</td>
                  </tr>
                  <tr>
                    <td>Polar_Parzen</td>
                    <td>0.0083</td>
                    <td>35.5274</td>
                    <td>0.9875</td>
                    <td>0.9989</td>
                    <td></td>
                    <td>0.8209</td>
                    <td>0.7781</td>
                    <td>0.8953</td>
                    <td>0.9557</td>
                    <td></td>
                    <td>0.8625</td>
                  </tr>
                  <tr>
                    <td>Blackman</td>
                    <td>0.0076</td>
                    <td>34.9680</td>
                    <td>0.9885</td>
                    <td>0.9987</td>
                    <td></td>
                    <td>0.8603</td>
                    <td>0.7305</td>
                    <td>0.9104</td>
                    <td>0.9359</td>
                    <td></td>
                    <td>0.8593</td>
                  </tr>
                  <tr>
                    <td>Polar_Bohman</td>
                    <td>0.0085</td>
                    <td>35.0970</td>
                    <td>0.9870</td>
                    <td>0.9988</td>
                    <td></td>
                    <td>0.8098</td>
                    <td>0.7415</td>
                    <td>0.8860</td>
                    <td>0.9451</td>
                    <td></td>
                    <td>0.8456</td>
                  </tr>
                  <tr>
                    <td>Polar_Lanczos2</td>
                    <td>0.0086</td>
                    <td>35.1477</td>
                    <td>0.9868</td>
                    <td>0.9988</td>
                    <td></td>
                    <td>0.8051</td>
                    <td>0.7458</td>
                    <td>0.8837</td>
                    <td>0.9454</td>
                    <td></td>
                    <td>0.8450</td>
                  </tr>
                  <tr>
                    <td>Polar_Blackman</td>
                    <td>0.0085</td>
                    <td>35.0236</td>
                    <td>0.9867</td>
                    <td>0.9988</td>
                    <td></td>
                    <td>0.8059</td>
                    <td>0.7352</td>
                    <td>0.8822</td>
                    <td>0.9434</td>
                    <td></td>
                    <td>0.8417</td>
                  </tr>
                  <tr>
                    <td>Mitchell</td>
                    <td>0.0089</td>
                    <td>34.8539</td>
                    <td>0.9862</td>
                    <td>0.9986</td>
                    <td></td>
                    <td>0.7878</td>
                    <td>0.7208</td>
                    <td>0.8735</td>
                    <td>0.9231</td>
                    <td></td>
                    <td>0.8263</td>
                  </tr>
                  <tr>
                    <td>Bartlett</td>
                    <td>0.0083</td>
                    <td>34.4112</td>
                    <td>0.9863</td>
                    <td>0.9986</td>
                    <td></td>
                    <td>0.8201</td>
                    <td>0.6832</td>
                    <td>0.8749</td>
                    <td>0.9213</td>
                    <td></td>
                    <td>0.8249</td>
                  </tr>
                  <tr>
                    <td>LanczosSharp</td>
                    <td>0.0082</td>
                    <td>34.0812</td>
                    <td>0.9871</td>
                    <td>0.9985</td>
                    <td></td>
                    <td>0.8260</td>
                    <td>0.6551</td>
                    <td>0.8888</td>
                    <td>0.9062</td>
                    <td></td>
                    <td>0.8190</td>
                  </tr>
                  <tr>
                    <td>Kaiser</td>
                    <td>0.0083</td>
                    <td>34.2164</td>
                    <td>0.9865</td>
                    <td>0.9985</td>
                    <td></td>
                    <td>0.8174</td>
                    <td>0.6666</td>
                    <td>0.8785</td>
                    <td>0.9132</td>
                    <td></td>
                    <td>0.8189</td>
                  </tr>
                  <tr>
                    <td>Lanczos</td>
                    <td>0.0085</td>
                    <td>33.9740</td>
                    <td>0.9864</td>
                    <td>0.9984</td>
                    <td></td>
                    <td>0.8108</td>
                    <td>0.6460</td>
                    <td>0.8771</td>
                    <td>0.9019</td>
                    <td></td>
                    <td>0.8090</td>
                  </tr>
                  <tr>
                    <td>LanczosRadius</td>
                    <td>0.0085</td>
                    <td>33.9740</td>
                    <td>0.9864</td>
                    <td>0.9984</td>
                    <td></td>
                    <td>0.8108</td>
                    <td>0.6460</td>
                    <td>0.8771</td>
                    <td>0.9019</td>
                    <td></td>
                    <td>0.8090</td>
                  </tr>
                  <tr>
                    <td>Polar_Kaiser</td>
                    <td>0.0091</td>
                    <td>34.3405</td>
                    <td>0.9850</td>
                    <td>0.9986</td>
                    <td></td>
                    <td>0.7763</td>
                    <td>0.6772</td>
                    <td>0.8552</td>
                    <td>0.9209</td>
                    <td></td>
                    <td>0.8074</td>
                  </tr>
                  <tr>
                    <td>Polar_LanczosRadius</td>
                    <td>0.0086</td>
                    <td>33.9796</td>
                    <td>0.9860</td>
                    <td>0.9985</td>
                    <td></td>
                    <td>0.8017</td>
                    <td>0.6465</td>
                    <td>0.8706</td>
                    <td>0.9045</td>
                    <td></td>
                    <td>0.8058</td>
                  </tr>
                  <tr>
                    <td>Hann</td>
                    <td>0.0087</td>
                    <td>33.9521</td>
                    <td>0.9855</td>
                    <td>0.9985</td>
                    <td></td>
                    <td>0.7991</td>
                    <td>0.6442</td>
                    <td>0.8628</td>
                    <td>0.9039</td>
                    <td></td>
                    <td>0.8025</td>
                  </tr>
                  <tr>
                    <td>Polar_Triangle</td>
                    <td>0.0092</td>
                    <td>34.2415</td>
                    <td>0.9855</td>
                    <td>0.9983</td>
                    <td></td>
                    <td>0.7667</td>
                    <td>0.6688</td>
                    <td>0.8620</td>
                    <td>0.8905</td>
                    <td></td>
                    <td>0.7970</td>
                  </tr>
                  <tr>
                    <td>Robidoux</td>
                    <td>0.0094</td>
                    <td>34.2906</td>
                    <td>0.9846</td>
                    <td>0.9984</td>
                    <td></td>
                    <td>0.7560</td>
                    <td>0.6729</td>
                    <td>0.8488</td>
                    <td>0.9015</td>
                    <td></td>
                    <td>0.7948</td>
                  </tr>
                  <tr>
                    <td>Polar_Bartlett</td>
                    <td>0.0094</td>
                    <td>34.0368</td>
                    <td>0.9834</td>
                    <td>0.9985</td>
                    <td></td>
                    <td>0.7544</td>
                    <td>0.6514</td>
                    <td>0.8287</td>
                    <td>0.9081</td>
                    <td></td>
                    <td>0.7857</td>
                  </tr>
                  <tr>
                    <td>Polar_Hamming</td>
                    <td>0.0095</td>
                    <td>34.0253</td>
                    <td>0.9833</td>
                    <td>0.9985</td>
                    <td></td>
                    <td>0.7505</td>
                    <td>0.6504</td>
                    <td>0.8279</td>
                    <td>0.9084</td>
                    <td></td>
                    <td>0.7843</td>
                  </tr>
                  <tr>
                    <td>Cosine</td>
                    <td>0.0090</td>
                    <td>33.5286</td>
                    <td>0.9848</td>
                    <td>0.9983</td>
                    <td></td>
                    <td>0.7793</td>
                    <td>0.6082</td>
                    <td>0.8513</td>
                    <td>0.8854</td>
                    <td></td>
                    <td>0.7810</td>
                  </tr>
                  <tr>
                    <td>Hamming</td>
                    <td>0.0091</td>
                    <td>33.4712</td>
                    <td>0.9845</td>
                    <td>0.9983</td>
                    <td></td>
                    <td>0.7719</td>
                    <td>0.6033</td>
                    <td>0.8461</td>
                    <td>0.8848</td>
                    <td></td>
                    <td>0.7765</td>
                  </tr>
                  <tr>
                    <td>Polar_Hann</td>
                    <td>0.0096</td>
                    <td>33.5662</td>
                    <td>0.9837</td>
                    <td>0.9983</td>
                    <td></td>
                    <td>0.7458</td>
                    <td>0.6114</td>
                    <td>0.8343</td>
                    <td>0.8869</td>
                    <td></td>
                    <td>0.7696</td>
                  </tr>
                  <tr>
                    <td>Welch</td>
                    <td>0.0093</td>
                    <td>33.2882</td>
                    <td>0.9838</td>
                    <td>0.9982</td>
                    <td></td>
                    <td>0.7603</td>
                    <td>0.5877</td>
                    <td>0.8351</td>
                    <td>0.8757</td>
                    <td></td>
                    <td>0.7647</td>
                  </tr>
                  <tr>
                    <td>Polar_LanczosSharp</td>
                    <td>0.0097</td>
                    <td>33.4770</td>
                    <td>0.9829</td>
                    <td>0.9983</td>
                    <td></td>
                    <td>0.7408</td>
                    <td>0.6038</td>
                    <td>0.8220</td>
                    <td>0.8849</td>
                    <td></td>
                    <td>0.7629</td>
                  </tr>
                  <tr>
                    <td>Polar_Cosine</td>
                    <td>0.0101</td>
                    <td>33.2418</td>
                    <td>0.9816</td>
                    <td>0.9982</td>
                    <td></td>
                    <td>0.7157</td>
                    <td>0.5838</td>
                    <td>0.8010</td>
                    <td>0.8751</td>
                    <td></td>
                    <td>0.7439</td>
                  </tr>
                  <tr>
                    <td>Polar_Lanczos</td>
                    <td>0.0101</td>
                    <td>33.2418</td>
                    <td>0.9816</td>
                    <td>0.9982</td>
                    <td></td>
                    <td>0.7157</td>
                    <td>0.5838</td>
                    <td>0.8010</td>
                    <td>0.8751</td>
                    <td></td>
                    <td>0.7439</td>
                  </tr>
                  <tr>
                    <td>Polar_Welch</td>
                    <td>0.0101</td>
                    <td>33.2418</td>
                    <td>0.9816</td>
                    <td>0.9982</td>
                    <td></td>
                    <td>0.7157</td>
                    <td>0.5838</td>
                    <td>0.8010</td>
                    <td>0.8751</td>
                    <td></td>
                    <td>0.7439</td>
                  </tr>
                  <tr>
                    <td>Triangle</td>
                    <td>0.0109</td>
                    <td>32.7732</td>
                    <td>0.9802</td>
                    <td>0.9977</td>
                    <td></td>
                    <td>0.6654</td>
                    <td>0.5440</td>
                    <td>0.7781</td>
                    <td>0.8165</td>
                    <td></td>
                    <td>0.7010</td>
                  </tr>
                  <tr>
                    <td>Jinc</td>
                    <td>0.0130</td>
                    <td>31.9518</td>
                    <td>0.9720</td>
                    <td>0.9972</td>
                    <td></td>
                    <td>0.5428</td>
                    <td>0.4741</td>
                    <td>0.6486</td>
                    <td>0.7583</td>
                    <td></td>
                    <td>0.6060</td>
                  </tr>
                  <tr>
                    <td>Polar_Quadratic</td>
                    <td>0.0134</td>
                    <td>31.1154</td>
                    <td>0.9713</td>
                    <td>0.9966</td>
                    <td></td>
                    <td>0.5229</td>
                    <td>0.4030</td>
                    <td>0.6371</td>
                    <td>0.6968</td>
                    <td></td>
                    <td>0.5649</td>
                  </tr>
                  <tr>
                    <td>Polar_Gaussian</td>
                    <td>0.0139</td>
                    <td>30.7778</td>
                    <td>0.9699</td>
                    <td>0.9963</td>
                    <td></td>
                    <td>0.4927</td>
                    <td>0.3743</td>
                    <td>0.6139</td>
                    <td>0.6610</td>
                    <td></td>
                    <td>0.5355</td>
                  </tr>
                  <tr>
                    <td>Gaussian</td>
                    <td>0.0139</td>
                    <td>30.7743</td>
                    <td>0.9698</td>
                    <td>0.9963</td>
                    <td></td>
                    <td>0.4923</td>
                    <td>0.3740</td>
                    <td>0.6136</td>
                    <td>0.6606</td>
                    <td></td>
                    <td>0.5352</td>
                  </tr>
                  <tr>
                    <td>Quadratic</td>
                    <td>0.0143</td>
                    <td>30.5742</td>
                    <td>0.9680</td>
                    <td>0.9961</td>
                    <td></td>
                    <td>0.4710</td>
                    <td>0.3570</td>
                    <td>0.5837</td>
                    <td>0.6441</td>
                    <td></td>
                    <td>0.5139</td>
                  </tr>
                  <tr>
                    <td>Polar_Catrom</td>
                    <td>0.0152</td>
                    <td>28.6343</td>
                    <td>0.9718</td>
                    <td>0.9945</td>
                    <td></td>
                    <td>0.4166</td>
                    <td>0.1921</td>
                    <td>0.6454</td>
                    <td>0.4575</td>
                    <td></td>
                    <td>0.4279</td>
                  </tr>
                  <tr>
                    <td>Polar_Lagrange</td>
                    <td>0.0155</td>
                    <td>28.6092</td>
                    <td>0.9706</td>
                    <td>0.9942</td>
                    <td></td>
                    <td>0.3998</td>
                    <td>0.1900</td>
                    <td>0.6252</td>
                    <td>0.4303</td>
                    <td></td>
                    <td>0.4113</td>
                  </tr>
                  <tr>
                    <td>Polar_Cubic</td>
                    <td>0.0176</td>
                    <td>28.8798</td>
                    <td>0.9528</td>
                    <td>0.9942</td>
                    <td></td>
                    <td>0.2794</td>
                    <td>0.2130</td>
                    <td>0.3432</td>
                    <td>0.4332</td>
                    <td></td>
                    <td>0.3172</td>
                  </tr>
                  <tr>
                    <td>Polar_Spline</td>
                    <td>0.0176</td>
                    <td>28.8798</td>
                    <td>0.9528</td>
                    <td>0.9942</td>
                    <td></td>
                    <td>0.2794</td>
                    <td>0.2130</td>
                    <td>0.3432</td>
                    <td>0.4332</td>
                    <td></td>
                    <td>0.3172</td>
                  </tr>
                  <tr>
                    <td>Cubic</td>
                    <td>0.0182</td>
                    <td>28.5882</td>
                    <td>0.9499</td>
                    <td>0.9938</td>
                    <td></td>
                    <td>0.2426</td>
                    <td>0.1882</td>
                    <td>0.2965</td>
                    <td>0.3843</td>
                    <td></td>
                    <td>0.2779</td>
                  </tr>
                  <tr>
                    <td>Spline</td>
                    <td>0.0182</td>
                    <td>28.5882</td>
                    <td>0.9499</td>
                    <td>0.9938</td>
                    <td></td>
                    <td>0.2426</td>
                    <td>0.1882</td>
                    <td>0.2965</td>
                    <td>0.3843</td>
                    <td></td>
                    <td>0.2779</td>
                  </tr>
                  <tr>
                    <td>Sinc</td>
                    <td>0.0191</td>
                    <td>27.6882</td>
                    <td>0.9545</td>
                    <td>0.9922</td>
                    <td></td>
                    <td>0.1896</td>
                    <td>0.1117</td>
                    <td>0.3702</td>
                    <td>0.2120</td>
                    <td></td>
                    <td>0.2209</td>
                  </tr>
                  <tr>
                    <td>SincFast</td>
                    <td>0.0191</td>
                    <td>27.6882</td>
                    <td>0.9545</td>
                    <td>0.9922</td>
                    <td></td>
                    <td>0.1896</td>
                    <td>0.1117</td>
                    <td>0.3702</td>
                    <td>0.2120</td>
                    <td></td>
                    <td>0.2209</td>
                  </tr>
                  <tr>
                    <td>Polar_Jinc</td>
                    <td>0.0196</td>
                    <td>28.1480</td>
                    <td>0.9518</td>
                    <td>0.9910</td>
                    <td></td>
                    <td>0.1603</td>
                    <td>0.1508</td>
                    <td>0.3266</td>
                    <td>0.0684</td>
                    <td></td>
                    <td>0.1765</td>
                  </tr>
                  <tr>
                    <td>Polar_CubicSpline</td>
                    <td>0.0205</td>
                    <td>26.4606</td>
                    <td>0.9557</td>
                    <td>0.9908</td>
                    <td></td>
                    <td>0.1098</td>
                    <td>0.0074</td>
                    <td>0.3895</td>
                    <td>0.0525</td>
                    <td></td>
                    <td>0.1398</td>
                  </tr>
                  <tr>
                    <td>Point</td>
                    <td>0.0223</td>
                    <td>26.3740</td>
                    <td>0.9313</td>
                    <td>0.9903</td>
                    <td></td>
                    <td>0.0000</td>
                    <td>0.0000</td>
                    <td>0.0000</td>
                    <td>0.0000</td>
                    <td></td>
                    <td>0.0000</td>
                  </tr>
                </tbody>
                </table>
        </p>
        <h3 id="downsampling_commentary">Downsampling Commentary</h3>
        <p>
            The results were relatively predictable, but there are a few things worth mentioning. The first one is that this methodology seems to really like filters with only 1 or 2 lobes.
            Lanczos2Sharp (<inline_code>--dscale=lanczos --dscale-radius=2 --dscale-blur=0.9549963639785485</inline_code>) takes the podium but the other BC-Splines and the normal Lanczos2 aren't far behind.
        </p>
        <p>
            It's a bit funny to see Polar_Hermite (<inline_code>--dscale=ewa_robidoux --dscale-param1=0 --dscale-param2=0</inline_code>) so high in the list, but I actually think it makes sense. Hermite is a short (radius 1) filter that does not have any negative sections, so using it to downscale makes the
            operation very close to an "area average", the only difference is that pixels are weighted based on distance. Hermite is usually described as a "smooth" triangle, but it scores much higher than the "normal" triangle.
        </p>
        <p>
            It's also interesting to see that Polar_Robidoux wasn't the best polar BC-Spline, considering the filter was specifically designed to be good at <inline_code>-distort</inline_code>. In any case, it's only slightly behind
            Polar_Mitchell. Please remember that these BC-splines are all sharper when used in polar resampling, so Polar_Mitchell is actually a pretty sharp filter and a relatively good alternative to Catrom if you prefer the look of polar resampling.
        </p>
        <p>
            Both Lanczos (orthogonal sinc-sinc) and Polar_Lanczos (polar jinc-jinc) were pretty mediocre at best. That's a good thing because it shows the methodology can actually punish filters that are too sharp. Polar_Catrom, the sharpest filter we have in the comparison,
            actually scored as one of the worst filters.
        </p>
        <p>
            I think this test solidifies what was already common knowledge. BC-Splines are very good at downsampling, and pretty much all of them are near the top.
        </p>
        <h3 id="outro">Outro</h3>
        <p>
            Nicolas Robidoux has a <a href="https://imagemagick.org/Usage/filter/nicolas/">personal page with some recommendations</a>, if you want a more qualitative approach.
        </p>
        <br>
        <br>
        <nav>
            <menu>
                <a href="../index.html">Home</a>
                <a href="#introduction">Introduction</a>
                <a href="https://github.com/Artoriuz">GitHub</a>
                <a href="https://www.linkedin.com/in/jvrchrisostomo/">LinkedIn</a>
            </menu>
        </nav>
        <br>
        <br>
    </section>
</body>
</html>
